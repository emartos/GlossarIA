---
import { t } from '../utils/translations';

interface Props {
  term: {
    id: string;
    term: string;
    short: string;
    level: string;
    status: string;
    tags: string[];
  };
  lang: 'es' | 'en';
}

const { term, lang } = Astro.props as Props;

const levelLabel =
  term.level === 'basico'
    ? t('levelBasic', lang)
    : term.level === 'intermedio'
    ? t('levelIntermediate', lang)
    : t('levelAdvanced', lang);
---

<a
  href={`/term/${term.id}?lang=${lang}`}
  style="display:block;padding:0.85rem 1rem;background:var(--bg-alt);border-radius:var(--radius-lg);border:1px solid var(--border);box-shadow:var(--shadow-soft);text-decoration:none;color:inherit;transition:transform 0.12s ease, box-shadow 0.12s ease, border-color 0.12s ease;"
>
  <div style="display:flex;justify-content:space-between;gap:0.75rem;align-items:flex-start;">
    <div style="flex:1;">
      <div style="font-size:1.05rem;font-weight:600;margin-bottom:0.15rem;">
        {term.term}
      </div>
      <div style="font-size:0.95rem;color:var(--muted);">
        {term.short}
      </div>
      {term.tags && term.tags.length > 0 && (
        <div style="margin-top:0.4rem;display:flex;flex-wrap:wrap;gap:0.35rem;">
          {term.tags.map((tag) => (
            <span
              style="font-size:0.8rem;padding:0.1rem 0.45rem;border-radius:999px;border:1px solid var(--border);color:var(--muted);"
            >
              {tag}
            </span>
          ))}
        </div>
      )}
    </div>
    <div style="display:flex;flex-direction:column;align-items:flex-end;gap:0.3rem;">
      <span
        style="font-size:0.8rem;padding:0.15rem 0.5rem;border-radius:999px;border:1px solid var(--accent);background:var(--accent-soft);"
      >
        {levelLabel}
      </span>
      {term.status === 'activo' ? null : (
        <span style="font-size:0.8rem;color:var(--warning);">
          {term.status === 'revisar'
            ? t('statusToReview', lang)
            : t('statusDeprecated', lang)}
        </span>
      )}
    </div>
  </div>
</a>
